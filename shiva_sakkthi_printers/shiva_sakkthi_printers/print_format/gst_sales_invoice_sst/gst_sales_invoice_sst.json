{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-02-02 09:25:31.802807",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<span></span>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style=\\\"height:120px\\\">\\nBill to<br>\\n<b style=\\\"font-size:17px\\\">{{ doc.customer }}</b><br>\\n{{ doc.address_display }}\\n</div>\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<span style=\\\"font-weight:bold;padding:5px\\\">Invoice NO.</span>{{ doc.name }}\\n<span style=\\\"font-weight:bold;padding:5px;left-padding:15px\\\">Dated</span>{{ doc.posting_date }}\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<br>\\n<span style=\\\"padding:5px\\\"><b>PO NO: {{ doc.po_no }}</b></span>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<br>\\n<span style=\\\"padding:5px\\\">GSTIN </span>: {{ doc.tax_id }}\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set siitems=[] %}\\r\\n\\t{% set cgst_rate = [] -%}\\r\\n\\t {% set sgst_rate = [] -%}\\r\\n\\t {% set igst_rate = [] -%}\\r\\n\\t{% set cgst_account_head = [] -%}\\r\\n\\t {% set sgst_account_head = [] -%}\\r\\n\\t {% set igst_account_head = [] -%}\\r\\n\\t{% set tot_cgst_amount = [] %}\\r\\n\\t{% set tot_sgst_amount = [] %}\\r\\n\\t{% set grand_total = {\\\"qty\\\":0.0, \\\"amount\\\":0.0, \\\"cgst_amt\\\":0.0, \\\"sgst_amt\\\":0.0, \\\"igst_amt\\\":0.0} %}\\r\\n\\t{%- for row in doc.taxes -%}\\r\\n  \\t   {% if 'CGST' in row.account_head -%}\\r\\n\\t\\t{% set _ = cgst_account_head.append(row.account_head) %}\\r\\n\\t\\t{% set _ = cgst_rate.append(row.rate) %}\\r\\n\\t   {%- endif -%}\\r\\n\\t   {% if 'SGST' in row.account_head -%}\\r\\n\\t\\t {% set _ = sgst_account_head.append(row.account_head) %}\\r\\n\\t\\t{% set _ = sgst_rate.append(row.rate) %}\\t\\r\\n\\t   {%- endif -%}\\r\\n\\t   {% if 'IGST' in row.account_head -%}\\r\\n\\t\\t{% set _ = igst_account_head.append(row.account_head) %}\\r\\n\\t\\t{% set _ = igst_rate.append(row.rate) %}\\r\\n\\t   {%- endif -%}\\r\\n\\t{%- endfor -%}\\r\\n\\r\\n\\r\\n{%- for row in doc.items -%}\\r\\n\\t    {% set siitem=[] %}\\r\\n\\t     {% set cgst_amt = [] -%}\\r\\n\\t \\t {% set sgst_amt = [] -%}\\r\\n\\t\\t {% set igst_amt = [] -%}\\r\\n\\t\\t {% set it_cgst_rate = [] -%}\\r\\n\\t \\t {% set it_sgst_rate = [] -%}\\r\\n\\t\\t {% set it_igst_rate = [] -%}\\r\\n\\t\\t {% set rate_found_item = 0 -%}\\r\\n\\t      {%- set item_record = frappe.get_doc(\\\"Item\\\", row.item_code) -%}\\r\\n\\t\\t{% for item_tax in item_record.taxes %}\\r\\n\\t\\t  {% if item_tax.tax_type == igst_account_head[0] %}\\t\\r\\n\\t\\t\\t{% set _ = it_igst_rate.append(item_tax.tax_rate) %}\\r\\n\\t\\t\\t{% set _ = igst_amt.append(row.amount * it_igst_rate[0] / 100) -%}\\r\\n\\t\\t\\t{% set rate_found_item = 1 -%}\\r\\n\\t\\t{% endif %}\\t\\t\\r\\n\\t\\t{% if item_tax.tax_type == sgst_account_head[0] %}\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t{% set _ = it_sgst_rate.append(item_tax.tax_rate) %}\\r\\n\\t\\t\\t{% set _ = sgst_amt.append(row.amount * it_sgst_rate[0] / 100) -%}\\r\\n\\t\\t\\t{% set rate_found_item = 1 -%}\\r\\n\\t\\t{% endif %}\\t\\r\\n\\t\\t{% if item_tax.tax_type == cgst_account_head[0] %}\\r\\n\\t\\t\\t{% set _ = it_cgst_rate.append(item_tax.tax_rate) %}\\r\\n\\t\\t\\t{% set _ = cgst_amt.append(row.amount * it_cgst_rate[0] / 100) -%}\\r\\n\\t\\t\\t{% set rate_found_item = 1 -%}\\r\\n\\t\\t{% endif %}\\t\\t\\r\\n\\t{% endfor %}\\t\\r\\n  \\t{% if rate_found_item == 0 %}\\r\\n\\r\\n\\t\\t{% if cgst_rate[0] -%}\\r\\n\\t\\t   {% set _ = cgst_amt.append((row.amount * cgst_rate[0])/100) -%}\\r\\n\\t\\t   {% set _= it_cgst_rate.append(cgst_rate[0]) -%}\\r\\n\\t\\t   {% set rate_found_inv = 1 -%}\\r\\n\\t       \\t{%- endif -%}\\r\\n\\t\\t{% if sgst_rate[0] -%}\\r\\n\\t\\t   {% set _ = sgst_amt.append((row.amount * sgst_rate[0])/100) -%}\\r\\n\\t\\t   {% set _= it_sgst_rate.append(sgst_rate[0]) -%}\\r\\n\\t\\t   \\r\\n\\t       \\t{%- endif -%}\\r\\n\\t\\t{% if igst_rate[0] -%}\\r\\n\\t\\t   {% set _ = igst_amt.append((row.amount * igst_rate[0])/100) -%}\\r\\n\\t\\t   {% set _= it_igst_rate.append(igst_rate[0]) -%}\\r\\n\\t\\t   {% set rate_found_inv = 1 -%}\\r\\n\\t       \\t{%- endif -%}\\r\\n\\t{% endif %}\\r\\n\\t{% if not it_cgst_rate[0] %}\\r\\n\\t\\t{% set _ = it_cgst_rate.append(0) %}\\r\\n\\t\\t{% set _ = cgst_amt.append(0) %}\\r\\n\\t{% endif %}\\r\\n\\t{% if not it_sgst_rate[0] %}\\r\\n\\t\\t{% set _ = it_sgst_rate.append(0) %}\\r\\n\\t\\t{% set _ = sgst_amt.append(0) %}\\r\\n\\t{% endif %}\\r\\n\\t{% if not it_igst_rate[0] %}\\r\\n\\t\\t{% set _ = it_igst_rate.append(0) %}\\r\\n\\t\\t{% set _ = igst_amt.append(0) %}\\r\\n\\t{% endif %}\\r\\n\\t{% set temp_cgst_amt = grand_total[\\\"cgst_amt\\\"] + cgst_amt[0] %}\\r\\n\\t{% set temp_sgst_amt = grand_total[\\\"sgst_amt\\\"] + sgst_amt[0] %}\\r\\n\\t{% set temp_igst_amt = grand_total[\\\"igst_amt\\\"] + igst_amt[0] %}\\r\\n\\t{% set temp_qty = grand_total[\\\"qty\\\"] + row.qty %}\\r\\n\\t{% set temp_amount = grand_total[\\\"amount\\\"] + row.amount %}\\r\\n\\t{% set check = grand_total.update({\\\"qty\\\": temp_qty, \\\"amount\\\": temp_amount, \\\"cgst_amt\\\":temp_cgst_amt, \\\"sgst_amt\\\":temp_sgst_amt, \\\"igst_amt\\\":temp_igst_amt}) %}\\r\\n\\t\\r\\n\\t{% set _= siitem.append(row.item_name) %}\\r\\n\\t{% set _= siitem.append(row.gst_hsn_code) %}\\r\\n\\t{% set _= siitem.append(row.qty) %}\\r\\n\\t{% set _= siitem.append(row.rate) %}\\r\\n\\t{% set _= siitem.append(cgst_amt[0]) %}\\r\\n\\t{% set _= siitem.append(it_cgst_rate[0]) %}\\r\\n\\t{% set _= siitem.append(sgst_amt[0]) %}\\r\\n\\t{% set _= siitem.append(it_sgst_rate[0]) %}\\r\\n\\t{% set _= siitem.append(row.amount) %}\\r\\n\\t\\r\\n\\t{% set _=siitems.append(siitem) %}\\r\\n\\t\\r\\n{%- endfor -%}\\r\\n\\r\\n{% set tnames=[] %}\\r\\n{% set printitems=[] %}\\r\\n{% for item in siitems %}\\r\\n    {% set x= item[0].split(\\\"*\\\") %}\\r\\n    {% if x[0] not in tnames %}\\r\\n        {% set l=x[0] %}\\r\\n        {% set _=tnames.append(x[0]) %}\\r\\n        {% set itemname=[] %}\\r\\n        {% set pitem=[] %}\\r\\n        {% set _=pitem.append(x[0]) %}\\r\\n        {% set cgst = [] %}\\r\\n        {% set sgst = [] %}\\r\\n        {% set qty = [] %}\\r\\n        {% set amt = [] %}\\r\\n        {% for row in siitems %}\\r\\n            {% set y=row[0].split('*') %}\\r\\n            {% if l==y[0] %}\\r\\n                {% set q=row[2]|int %}\\r\\n                {% set q=q|string %}\\r\\n                {% set n=y[1].split('-') %}\\r\\n                {% set _=itemname.append(n[2]+'/'+q) %}\\r\\n                {% set _=cgst.append(row[4]) %}\\r\\n                {% set __=sgst.append(row[6]) %}\\r\\n                {% set _=qty.append(row[2]) %}\\r\\n                {% set _=amt.append(row[8]) %}\\r\\n            {% endif %}\\r\\n        {% endfor %}\\r\\n        {% set _=pitem.append(itemname) %}\\r\\n        {% set _=pitem.append(item[1]) %}\\r\\n        {% set _=pitem.append(qty|sum) %}\\r\\n        {% set _=pitem.append(item[3]) %}\\r\\n        {% set _=pitem.append(cgst|sum) %}\\r\\n        {% set _=pitem.append(item[5]) %}\\r\\n        {% set _=pitem.append(sgst|sum) %}\\r\\n        {% set _=pitem.append(item[7]) %}\\r\\n        {% set _=pitem.append(amt|sum) %}\\r\\n        \\r\\n        {% set _=printitems.append(pitem) %}\\r\\n    {% endif %}\\r\\n{% endfor %}\\r\\n\\r\\n<style>\\r\\n\\r\\ntr:nth-child(1) { border: solid thin; }\\r\\ntable, th{\\r\\n    border: 1px solid black;\\r\\n  \\r\\n}\\r\\n   table td + td { border-left:1px solid black;}\\r\\n</style>\\r\\n\\r\\n\\r\\n<table class=\\\"t-table\\\"  style=\\\"height:470px\\\">\\r\\n<tbody>\\r\\n\\t<tr>\\r\\n\\t\\t<th>Sr</th>\\r\\n\\t\\t<th>Product Details</th>\\r\\n\\t\\t<th>HSN</th>\\r\\n\\t\\t<th class=\\\"text-right\\\">Qty</th>\\r\\n\\t    <th class=\\\"text-right\\\">Rate</th>\\r\\n\\t\\t<th class=\\\"text-right\\\">CGST</th>\\r\\n\\t\\t<th class=\\\"text-right\\\">SGST</th>\\r\\n\\t\\t<th class=\\\"text-right\\\">Taxable Amount</th>\\r\\n\\t</tr>\\r\\n\\t{% set serial=[0] %}\\r\\n\\t{%- for row in printitems -%}\\r\\n\\t{% set _=serial.append(1) %}\\r\\n\\t<tr>\\r\\n    <td style=\\\"width: 5%;\\\"><font size = \\\"1\\\">{{ serial|sum }}</font></td>\\r\\n\\t\\t<td style=\\\"width: 40%;\\\"><font size = \\\"1\\\">\\r\\n\\t\\t    <b>{{ row[0] }}</b><br>\\r\\n\\t\\t    {% for i in row[1] %} {{ i }} {% endfor %}\\r\\n\\t\\t</font></td>\\r\\n\\t\\t<td style=\\\"width: 10%;\\\"><font size = \\\"1\\\">{{ row[2] }}</font></td>\\r\\n\\t\\t<td style=\\\"width: 8%; text-align: left;\\\"><font size = \\\"1\\\">{{ row[3] }} </font></td>\\r\\n\\t\\t<td style=\\\"width: 8%; text-align: right;\\\"><font size = \\\"1\\\">{{\\r\\n\\t\\t\\t\\\"\\u20b9 {:,.2f}\\\".format(row[4]) }}</font></td>\\r\\n\\t\\t<td style=\\\"text-align: right;\\\"><font size = \\\"1\\\">{{\\r\\n\\t\\t\\t\\\"\\u20b9 {:,.2f}\\\".format(row[5])  }}<br><small>{{\\r\\n\\t\\t\\trow[6] }}%</small></font></td>\\r\\n\\t\\t<td style=\\\" text-align: right;\\\"><font size = \\\"1\\\">{{\\r\\n\\t\\t\\t\\\"\\u20b9 {:,.2f}\\\".format(row[7])  }}<br><small>{{\\r\\n\\t\\t\\trow[8] }}%</small></font></td>\\r\\n\\t\\t<td style=\\\"width: 11%; text-align: right;\\\"><font size = \\\"1\\\">{{\\r\\n\\t\\t\\t\\\"\\u20b9 {:,.2f}\\\".format(row[9]) }}</font></td>\\r\\n    </tr>\\r\\n    {%- endfor -%}\\r\\n    {% for i in range(9- printitems|length) %}\\r\\n        <tr>\\r\\n            {% for j in range(8) %}\\r\\n                <td></td>\\r\\n            {% endfor %}\\r\\n        </tr>\\r\\n    {% endfor %}\\r\\n    \\r\\n</tbody>\\r\\n</table>\\r\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<table style=\\\"border: 1px solid black;\\\">\\n    <tbody>\\n        <tr>\\n            <th class=\\\"text-right\\\" style=\\\"border: 1px solid black;\\\">Tax %</th>\\n            <th class=\\\"text-right\\\" style=\\\"border: 1px solid black;\\\">Taxable Amt</th>\\n            <th class=\\\"text-right\\\" style=\\\"border: 1px solid black;\\\">CGST</th>\\n            <th class=\\\"text-right\\\" style=\\\"border: 1px solid black;\\\">SGST</th>\\n            <th class=\\\"text-right\\\" style=\\\"border: 1px solid black;\\\">Total Tax</th>\\n        </tr>\\n        <tr>\\n            <td style=\\\"border: 1px solid black;\\\">18%</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.total }}</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.taxes[0].tax_amount }}</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.taxes[1].tax_amount }}</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.total_taxes_and_charges }}</td>\\n        </tr>\\n    </tbody>\\n</table>\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<div style=\\\"text-align:right;border: 1px solid black; padding: 5px; width:300px;float:right\\\">\\nTaxable amount <b>\\u20b9 {{ doc.total }}</b><br>\\nGrand total <b style=\\\"font-size:15px\\\">\\u20b9 {{ doc.grand_total }}</b><br>\\nRounded total <b style=\\\"font-size:15px\\\">\\u20b9 {{ doc.rounded_total }}</b><br>\\n\\n</div>\\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p style=\\\"font-size:15px;padding:3px\\\">\\nIn words <span style=\\\"font-weight:bold\\\">{{ doc.in_words }}</span> \\n</p>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<table style=\\\"font-weight: bold;\\\">\\n    <tbody><tr>\\n        <td>Account Number<br>Account Name<br>Bank Name<br>IFSC  Code</td>\\n        <td>560101000108060<br>SHIVA SAKKTHI TRANSFER<br>Union Bank of India - Tiruppur<br>UBIN0900877</td>\\n    </tr>\\n</tbody></table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"terms\", \"print_hide\": 0, \"label\": \"Terms and Conditions Details\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\"}]",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-02-05 10:29:45.114024",
 "modified_by": "Administrator",
 "module": "Shiva Sakkthi Printers",
 "name": "GST sales invoice SST",
 "owner": "ponnusamy@thirvusoft.in",
 "parent": "Sales Invoice",
 "print_format_builder": 1,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}