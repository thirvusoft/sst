{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-02-01 14:52:33.761896",
 "css": ".print-format {\r\n  \r\n  margin-left: 3mm;\r\n  margin-right: 3mm;\r\n\r\n}",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<span></span>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set date=doc.posting_date|string %}\\n{% set date=date.split('-') %}\\n{% set date=date[::-1]|join('-') %}\\n\\n<table style=\\\"width:100%;padding-top:2px\\\">\\n    <tr>\\n        <td rowspan='2' style=\\\"width:60%\\\">\\n            BILL TO<br>\\n            <b style=\\\"font-size:17px\\\">{{ doc.customer }}</b><br>\\n            {{ doc.address_display }}\\n</td>\\n        <td>Invoice NO.<span style=\\\"font-weight:bold;padding:5px\\\">{{ doc.name }}</span>\\n          <div style=\\\"float:right;text-align:right\\\"> Dated<span style=\\\"font-weight:bold;padding:5px;\\\">{{ date }}</span></div></td>\\n    </tr>\\n    <tr>\\n        <td>\\n            <b>PO NO: {{ doc.po_no }}</b></td>\\n    </tr>\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set siitems=[] %}\\n\\t{% set cgst_rate = [] -%}\\n\\t {% set sgst_rate = [] -%}\\n\\t {% set igst_rate = [] -%}\\n\\t{% set cgst_account_head = [] -%}\\n\\t {% set sgst_account_head = [] -%}\\n\\t {% set igst_account_head = [] -%}\\n\\t{% set tot_cgst_amount = [] %}\\n\\t{% set tot_sgst_amount = [] %}\\n\\t{% set grand_total = {\\\"qty\\\":0.0, \\\"amount\\\":0.0, \\\"cgst_amt\\\":0.0, \\\"sgst_amt\\\":0.0, \\\"igst_amt\\\":0.0} %}\\n\\t{%- for row in doc.taxes -%}\\n  \\t   {% if 'CGST' in row.account_head -%}\\n\\t\\t{% set _ = cgst_account_head.append(row.account_head) %}\\n\\t\\t{% set _ = cgst_rate.append(row.rate) %}\\n\\t   {%- endif -%}\\n\\t   {% if 'SGST' in row.account_head -%}\\n\\t\\t {% set _ = sgst_account_head.append(row.account_head) %}\\n\\t\\t{% set _ = sgst_rate.append(row.rate) %}\\t\\n\\t   {%- endif -%}\\n\\t   {% if 'IGST' in row.account_head -%}\\n\\t\\t{% set _ = igst_account_head.append(row.account_head) %}\\n\\t\\t{% set _ = igst_rate.append(row.rate) %}\\n\\t   {%- endif -%}\\n\\t{%- endfor -%}\\n\\n\\n{%- for row in doc.items -%}\\n\\t    {% set siitem=[] %}\\n\\t     {% set cgst_amt = [] -%}\\n\\t \\t {% set sgst_amt = [] -%}\\n\\t\\t {% set igst_amt = [] -%}\\n\\t\\t {% set it_cgst_rate = [] -%}\\n\\t \\t {% set it_sgst_rate = [] -%}\\n\\t\\t {% set it_igst_rate = [] -%}\\n\\t\\t {% set rate_found_item = 0 -%}\\n\\t      {%- set item_record = frappe.get_doc(\\\"Item\\\", row.item_code) -%}\\n\\t\\t{% for item_tax in item_record.taxes %}\\n\\t\\t  {% if item_tax.tax_type == igst_account_head[0] %}\\t\\n\\t\\t\\t{% set _ = it_igst_rate.append(item_tax.tax_rate) %}\\n\\t\\t\\t{% set _ = igst_amt.append(row.amount * it_igst_rate[0] / 100) -%}\\n\\t\\t\\t{% set rate_found_item = 1 -%}\\n\\t\\t{% endif %}\\t\\t\\n\\t\\t{% if item_tax.tax_type == sgst_account_head[0] %}\\n\\t\\t\\t\\n\\t\\t\\t{% set _ = it_sgst_rate.append(item_tax.tax_rate) %}\\n\\t\\t\\t{% set _ = sgst_amt.append(row.amount * it_sgst_rate[0] / 100) -%}\\n\\t\\t\\t{% set rate_found_item = 1 -%}\\n\\t\\t{% endif %}\\t\\n\\t\\t{% if item_tax.tax_type == cgst_account_head[0] %}\\n\\t\\t\\t{% set _ = it_cgst_rate.append(item_tax.tax_rate) %}\\n\\t\\t\\t{% set _ = cgst_amt.append(row.amount * it_cgst_rate[0] / 100) -%}\\n\\t\\t\\t{% set rate_found_item = 1 -%}\\n\\t\\t{% endif %}\\t\\t\\n\\t{% endfor %}\\t\\n  \\t{% if rate_found_item == 0 %}\\n\\n\\t\\t{% if cgst_rate[0] -%}\\n\\t\\t   {% set _ = cgst_amt.append((row.amount * cgst_rate[0])/100) -%}\\n\\t\\t   {% set _= it_cgst_rate.append(cgst_rate[0]) -%}\\n\\t\\t   {% set rate_found_inv = 1 -%}\\n\\t       \\t{%- endif -%}\\n\\t\\t{% if sgst_rate[0] -%}\\n\\t\\t   {% set _ = sgst_amt.append((row.amount * sgst_rate[0])/100) -%}\\n\\t\\t   {% set _= it_sgst_rate.append(sgst_rate[0]) -%}\\n\\t\\t   \\n\\t       \\t{%- endif -%}\\n\\t\\t{% if igst_rate[0] -%}\\n\\t\\t   {% set _ = igst_amt.append((row.amount * igst_rate[0])/100) -%}\\n\\t\\t   {% set _= it_igst_rate.append(igst_rate[0]) -%}\\n\\t\\t   {% set rate_found_inv = 1 -%}\\n\\t       \\t{%- endif -%}\\n\\t{% endif %}\\n\\t{% if not it_cgst_rate[0] %}\\n\\t\\t{% set _ = it_cgst_rate.append(0) %}\\n\\t\\t{% set _ = cgst_amt.append(0) %}\\n\\t{% endif %}\\n\\t{% if not it_sgst_rate[0] %}\\n\\t\\t{% set _ = it_sgst_rate.append(0) %}\\n\\t\\t{% set _ = sgst_amt.append(0) %}\\n\\t{% endif %}\\n\\t{% if not it_igst_rate[0] %}\\n\\t\\t{% set _ = it_igst_rate.append(0) %}\\n\\t\\t{% set _ = igst_amt.append(0) %}\\n\\t{% endif %}\\n\\t{% set temp_cgst_amt = grand_total[\\\"cgst_amt\\\"] + cgst_amt[0] %}\\n\\t{% set temp_sgst_amt = grand_total[\\\"sgst_amt\\\"] + sgst_amt[0] %}\\n\\t{% set temp_igst_amt = grand_total[\\\"igst_amt\\\"] + igst_amt[0] %}\\n\\t{% set temp_qty = grand_total[\\\"qty\\\"] + row.qty %}\\n\\t{% set temp_amount = grand_total[\\\"amount\\\"] + row.amount %}\\n\\t{% set check = grand_total.update({\\\"qty\\\": temp_qty, \\\"amount\\\": temp_amount, \\\"cgst_amt\\\":temp_cgst_amt, \\\"sgst_amt\\\":temp_sgst_amt, \\\"igst_amt\\\":temp_igst_amt}) %}\\n\\t\\n\\t{% set _= siitem.append(row.item_name) %}\\n\\t{% set _= siitem.append(row.gst_hsn_code) %}\\n\\t{% set _= siitem.append(row.qty|int) %}\\n\\t{% set _= siitem.append(row.rate) %}\\n\\t{% set _= siitem.append(cgst_amt[0]) %}\\n\\t{% set _= siitem.append(it_cgst_rate[0]) %}\\n\\t{% set _= siitem.append(sgst_amt[0]) %}\\n\\t{% set _= siitem.append(it_sgst_rate[0]) %}\\n\\t{% set _= siitem.append(row.amount) %}\\n\\t\\n\\t{% set _=siitems.append(siitem) %}\\n\\t\\n{%- endfor -%}\\n\\n{% set tnames=[] %}\\n{% set printitems=[] %}\\n{% for item in siitems %}\\n    {% set x= item[0].split(\\\"/\\\") %}\\n    {% if x[0] not in tnames %}\\n        {% set l=x[0] %}\\n        {% set _=tnames.append(x[0]) %}\\n        {% set itemname=[] %}\\n        {% set pitem=[] %}\\n        {% set _=pitem.append(x[0]) %}\\n        {% set cgst = [] %}\\n        {% set sgst = [] %}\\n        {% set qty = [] %}\\n        {% set amt = [] %}\\n        {% for row in siitems %}\\n            {% set y=row[0].split('/') %}\\n            {% if l==y[0] %}\\n                {% set q=row[2]|int %}\\n                {% set q=q|string %}\\n                {% set _=itemname.append(y[3]+'/'+q) %}\\n                {% set _=cgst.append(row[4]) %}\\n                {% set __=sgst.append(row[6]) %}\\n                {% set _=qty.append(row[2]) %}\\n                {% set _=amt.append(row[8]) %}\\n            {% endif %}\\n        {% endfor %}\\n        {% set _=pitem.append(itemname) %}\\n        {% set _=pitem.append(item[1]) %}\\n        {% set _=pitem.append(qty|sum) %}\\n        {% set _=pitem.append(item[3]) %}\\n        {% set _=pitem.append(cgst|sum) %}\\n        {% set _=pitem.append(item[5]) %}\\n        {% set _=pitem.append(sgst|sum) %}\\n        {% set _=pitem.append(item[7]) %}\\n        {% set _=pitem.append(amt|sum) %}\\n        \\n        {% set _=printitems.append(pitem) %}\\n    {% endif %}\\n{% endfor %}\\n\\n<style>\\n\\ntr:nth-child(1) { border: solid thin; }\\ntable, th{\\n    border: 1px solid black;\\n   \\n  \\n}\\n   table td + td { border-left:1px solid black;  }\\n</style>\\n\\n\\n<table class=\\\"t-table\\\"  style=\\\"height:500px\\\">\\n<tbody>\\n\\t<tr>\\n\\t\\t<th style=\\\"height:35px\\\">S.No</th>\\n\\t\\t<th>Product Details</th>\\n\\t\\t<th>HSN</th>\\n\\t\\t<th class=\\\"text-right\\\">Qty</th>\\n\\t    <th class=\\\"text-right\\\">Rate</th>\\n\\t\\t<th class=\\\"text-right\\\">CGST</th>\\n\\t\\t<th class=\\\"text-right\\\">SGST</th>\\n\\t\\t<th class=\\\"text-right\\\">Taxable Amount</th>\\n\\t</tr>\\n\\t{% set serial=[0] %}\\n\\t{%- for row in printitems -%}\\n\\t{% set _=serial.append(1) %}\\n\\t<tr>\\n    <td style=\\\"width: 5%;\\\"><font size = \\\"1\\\">{{ serial|sum }}</font></td>\\n\\t\\t<td style=\\\"width: 40%;\\\"><font size = \\\"2\\\">\\n\\t\\t    <b>{{ row[0] }}</b><br>\\n\\t\\t    {% for i in row[1] %} {{ i }} {% endfor %}\\n\\t\\t</font></td>\\n\\t\\t<td style=\\\"width: 10%;\\\"><font size = \\\"2\\\">{{ row[2] }}</font></td>\\n\\t\\t<td style=\\\"width: 8%; text-align: left;\\\"><font size = \\\"2\\\">{{ row[3] }} </font></td>\\n\\t\\t<td style=\\\"width: 8%; text-align: right;\\\"><font size = \\\"2\\\">{{\\n\\t\\t\\t\\\"{:,.2f}\\\".format(row[4]) }}</font></td>\\n\\t\\t<td style=\\\"text-align: right;\\\"><font size = \\\"2\\\">{{\\n\\t\\t\\t\\\"{:,.2f}\\\".format(row[5])  }}<br><small>{{\\n\\t\\t\\trow[6] }}%</small></font></td>\\n\\t\\t<td style=\\\" text-align: right;\\\"><font size = \\\"2\\\">{{\\n\\t\\t\\t\\\"{:,.2f}\\\".format(row[7])  }}<br><small>{{\\n\\t\\t\\trow[8] }}%</small></font></td>\\n\\t\\t<td style=\\\"width: 12%; text-align: right;\\\"><font size = \\\"2\\\">{{\\n\\t\\t\\t\\\"{:,.2f}\\\".format(row[9]) }}</font></td>\\n    </tr>\\n    {%- endfor -%}\\n    {% for i in range(6-printitems|length) %}\\n        <tr>\\n            {% for j in range(8) %}\\n                <td></td>\\n            {% endfor %}\\n        </tr>\\n    {% endfor %}\\n    \\n    \\n</tbody>\\n</table>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<table style=\\\"border: 1px solid black;width:109%\\\">\\n    <tbody>\\n        <tr>\\n            <td class=\\\"text-right\\\" style=\\\"border: 1px solid black;text-align:center;\\\">Tax %</td>\\n            <td class=\\\"text-right\\\" style=\\\"border: 1px solid black;text-align:center;\\\">Taxable Amt</td>\\n            <td class=\\\"text-right\\\" style=\\\"border: 1px solid black;text-align:center;\\\">CGST</td>\\n            <td class=\\\"text-right\\\" style=\\\"border: 1px solid black;text-align:center;\\\">SGST</td>\\n            <td class=\\\"text-right\\\" style=\\\"border: 1px solid black;text-align:center;\\\">Total Tax</td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"border: 1px solid black;\\\">18%</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.total }}</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.taxes[0].tax_amount }}</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.taxes[1].tax_amount }}</td>\\n            <td style=\\\"border: 1px solid black;\\\">{{ doc.total_taxes_and_charges }}</td>\\n        </tr>\\n    </tbody>\\n</table>\\n\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<table style=\\\"font-weight: bold;position:absolute;width:109%\\\">\\n    <tbody><tr>\\n        <td>Account Number<br>Account Name<br>Bank Name<br>IFSC  Code</td>\\n        <td>560101000108060<br>SHIVA SAKKTHI TRANSFER<br>Union Bank of India - Tiruppur<br>UBIN0900877</td>\\n    </tr>\\n</tbody></table>\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<div style=\\\"width:360px;height:90px;border:1px solid black;\\\">\\n     <div style=\\\"float:right;text-align:right;padding:10px\\\">\\n        {{ \\\"{:,.2f}\\\".format(doc.total) }}<br>\\n        {{ \\\"{:,.2f}\\\".format(doc.taxes[0].tax_amount) }} <br> \\n        {{ \\\"{:,.2f}\\\".format(doc.taxes[1].tax_amount) }} <br>\\n        <b style=\\\"font-size:16px\\\"> {{ \\\"{:,.2f}\\\".format(doc.rounded_total) }}</b>\\n    </div>\\n    \\n    <div style=\\\"float:right;text-align:right;padding:10px;width:220px;\\\">\\n        Taxable amount<br>\\n        CGST<br>\\n        SGST<br>\\n        Nett Amount\\n    </div>\\n   \\n</div>\\n<div style=\\\"position:fixed;font-size:15px;border:1px solid black;padding-left:2px;width:360px;height:59px;\\\">\\n        Amount in words : {{ doc.in_words }}\\n    </div>\"}]",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-02-19 11:01:21.227817",
 "modified_by": "Administrator",
 "module": "Shiva Sakkthi Printers",
 "name": "Sales invoice SST",
 "owner": "saheeth@thirvusoft.in",
 "print_format_builder": 1,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}